SELECT * FROM GV$SQL                     WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQLAREA                 WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQLSTAT                 WHERE SQL_ID = 'dz4xvtughz5gs';

SELECT * FROM GV$SQL_BIND_CAPTURE        WHERE SQL_ID = 'dz4xvtughz5gs';

SELECT * FROM GV$SQL_PLAN                WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_PLAN_STATISTICS     WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_PLAN_STATISTICS_ALL WHERE SQL_ID = 'dz4xvtughz5gs';

SELECT * FROM GV$SQL_WORKAREA            WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_WORKAREA_ACTIVE     WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_WORKAREA_HISTOGRAM; 

SELECT * FROM GV$SQL_SHARED_CURSOR      WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_OPTIMIZER_ENV      WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_CS_STATISTICS      WHERE SQL_ID = 'dz4xvtughz5gs';
SELECT * FROM GV$SQL_CS_SELECTIVITY     WHERE SQL_ID = 'dz4xvtughz5gs';

SELECT * FROM GV$SQL_MONITOR            WHERE SQL_ID = 'dz4xvtughz5gs' AND STATUS = 'EXECUTING';
SELECT * FROM GV$SQL_PLAN_MONITOR       WHERE SQL_ID = 'dz4xvtughz5gs' AND STATUS = 'EXECUTING';

SET LINE 999;
SET LONG 999999;
SET PAGESIZE 50000;
SELECT * FROM TABLE(DBMS_XPLAN.DISPLAY_CURSOR('dz4xvtughz5gs',NULL,'ALLSTATS +ROWS +BYTES +COST +PARTITION +PARALLEL +PREDICATE +PROJECTION +ALIAS +NOTE +OUTLINE'));

SET LINE 999;
SET LONG 999999;
SET PAGESIZE 50000;
select * from TABLE(DBMS_XPLAN.DISPLAY_AWR('dz4xvtughz5gs',format => 'ALLSTATS +ROWS +BYTES +COST +PARTITION +PARALLEL +PREDICATE +PROJECTION +ALIAS +NOTE +OUTLINE'));

SET LINES 200
SET PAGES 1000
SET LONG 999999
SET LONGCHUNKSIZE 200
SELECT DBMS_SQLTUNE.REPORT_SQL_MONITOR ( SQL_ID          => 'dz4xvtughz5gs',
                                         SQL_EXEC_ID     => 16777216,
                                         SQL_EXEC_START  => TO_DATE('10/30/17 06:01:12','mm/dd/rr hh24:mi:ss'),
                                         REPORT_LEVEL    => 'ALL'
                                       ) AS REPORT 
FROM   DUAL;

SELECT ASH.INST_ID, ASH.SESSION_ID,  ASH.SESSION_SERIAL#, ASH.SAMPLE_TIME, ASH.SQL_ID, ASH.SQL_CHILD_NUMBER,
       ASH.SESSION_STATE, ASH.EVENT, ASH.WAIT_TIME, ASH.TIME_WAITED,
       ASH.PROGRAM, ASH.MODULE, ASH.ACTION,ASH.CONSUMER_GROUP_ID, RSG.NAME,
       IS_SQLID_CURRENT,TEMP_SPACE_ALLOCATED/1024/1024 TEMP_MB,
       ASH.SQL_EXEC_ID, ASH.SQL_EXEC_START,  ASH.SQL_PLAN_LINE_ID, ASH.SQL_PLAN_OPERATION, ASH.SQL_PLAN_OPTIONS        
FROM   GV$ACTIVE_SESSION_HISTORY ASH LEFT OUTER JOIN GV$RSRC_CONSUMER_GROUP RSG ON RSG.ID = ASH.CONSUMER_GROUP_ID AND RSG.INST_ID = ASH.INST_ID
WHERE  ASH.SQL_ID = 'dz4xvtughz5gs' 
ORDER BY ASH.SAMPLE_TIME DESC ;

SELECT SESSION_STATE,WAIT_CLASS,EVENT, SUM(1) SECONDS,
       ROUND(RATIO_TO_REPORT(COUNT(*)) OVER () * 100, 1) PCT 
FROM  GV$ACTIVE_SESSION_HISTORY
GROUP BY SESSION_STATE,WAIT_CLASS,EVENT
ORDER BY SECONDS DESC;

SELECT A.SQL_ID, 
       A.SQL_PLAN_LINE_ID, 
       A.SQL_PLAN_OPERATION||' '||A.SQL_PLAN_OPTIONS PLAN,
       SESSION_STATE,WAIT_CLASS,EVENT, 
       P.OBJECT_OWNER||'.'||P.OBJECT_NAME OBJ, SUM(1) SECONDS,
       ROUND(RATIO_TO_REPORT(COUNT(*)) OVER () * 100, 1) PCT 
FROM   GV$ACTIVE_SESSION_HISTORY A 
       LEFT OUTER JOIN GV$SQL_PLAN P ON    A.SQL_ID = P.SQL_ID
                                    AND    A.SQL_CHILD_NUMBER = P.CHILD_NUMBER
                                    AND    A.INST_ID = P.INST_ID
                                    AND    A.SQL_PLAN_LINE_ID = P.ID
WHERE  A.SQL_ID = 'dz4xvtughz5gs'
GROUP BY A.SQL_ID, A.SQL_PLAN_LINE_ID, 
         A.SQL_PLAN_OPERATION||' '||A.SQL_PLAN_OPTIONS, 
         SESSION_STATE, WAIT_CLASS,EVENT, 
         P.OBJECT_OWNER||'.'||P.OBJECT_NAME
ORDER BY SECONDS DESC;

SELECT EVENT, P1,P1TEXT, P2,P2TEXT, P3,P3TEXT,
       COUNT(*)
FROM   GV$ACTIVE_SESSION_HISTORY 
WHERE  SQL_ID = 'dz4xvtughz5gs' 
--AND    EVENT = 'row cache lock'
GROUP BY EVENT, P1,P1TEXT, P2,P2TEXT, P3,P3TEXT;

SELECT * FROM GV$ROWCACHE WHERE INST_ID =  3 AND CACHE# = 13;

SELECT * FROM GV$ACTIVE_SESSION_HISTORY WHERE SQL_ID = 'dz4xvtughz5gs';

SELECT INST_ID, STATUS, FIRST_REFRESH_TIME, LAST_REFRESH_TIME,
       SID, SQL_ID, SQL_EXEC_START, SQL_EXEC_ID, SQL_PLAN_HASH_VALUE, SQL_CHILD_ADDRESS,
       PLAN_PARENT_ID, PLAN_LINE_iD, PLAN_OPERATION  || ' ' ||  PLAN_OPTIONS || ' '|| PLAN_OBJECT_TYPE || ' ' ||PLAN_OBJECT_OWNER || '.'|| PLAN_OBJECT_NAME PLAN,
       PLAN_CARDINALITY EST,
       STARTS EXECS,
       OUTPUT_ROWS ACTUAL
FROM   GV$SQL_PLAN_MONITOR
WHERE  SQL_ID = 'dz4xvtughz5gs';
       
